<polymer-element name="character-count" attributes="name width height" >

    <template>
        <style>
            #counter{
                display: block;
                padding: 6px 12px;
                background-color: #fff;
                background-image: none;
                border: 1px solid #ccc;
                border-radius: 4px;
                -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);
                box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);
                -webkit-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
                transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
            }

            #counter:focus {
                border-color: #66afe9;
                outline: 0;
                -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6);
                box-shadow: inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6);
            }

            #counter, #counterDisplay{
                font-size: 14px;
                line-height: 1.428571429;
                color: #555;
                vertical-align: middle;
            }
        </style>

        <textarea id="counter" name="{{name}}" on-keydown="{{count}}" on-keyup="{{count}}" style="width:{{width}}px; height:{{height}}px;"></textarea>
        <span id="counterDisplay">no characters</span>
</template>

    <script>
        Polymer('character-count', {

            count: function(){
                var $length = this.$.counter.value.length;

                if ($length === 0){
                    $text = "no characters";
                }else if($length === 1){
                    $text = $length + " character";
                }else{
                    $text = $length +" characters"
                }

                this.$.counterDisplay.innerHTML = $text;
            }

        });
    </script>

</polymer-element>
